<!DOCTYPE html>

<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Admin - Manage Rooms</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/bootstrap.bundle.min.js"></script>

</head>

<body>
<header th:replace="Fragments/adminHeader :: header">Default</header>
<main>
    <!--    Thymeleaf for loop over all rooms, where each room
        corresponds to one row in an HTML table. At the end of
        each row, a cell for a editing button and deleting button is also rendered.-->
    <div class="container mt-auto">
        <h1>Rooms</h1>
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Room ID</td>
                <th scope="col">Room Name</td>

            </tr>
            </thead>
            <tbody>
            <tr th:each="room: ${rooms}" th:data-id="${room.id}">
                <td th:text="${room.id}" id="id"/>
                <td th:text="${room.name}"/>
                <td><button th:id="${room.id}" onclick="editRoom(this.id)" class="btn btn-primary">Edit</button> </td>
                <td>
                    <div id="edit" class="collapse in" style="display: none">
                        <form th:object="${room}" th:action="@{/admin/room/edit/{id}(id=${room.id})}">
                             <input type="text" id="name" name="name" th:value="${room.name}">
                             <button type="submit" class="btn btn-primary">Save</button>
                             <button class="btn btn-danger" onclick="editRoom()">Cancel</button>
                        </form>
                    </div>
                </td>
                <td>
                    <button th:id="${room.id}" onclick="deleteRoom(this.id)" class="btn btn-danger">Delete</button>
                </td>
<!--                document.getElementById('roomName').value-->
<!--                <td>-->
<!--                    <div class="collapse in" id="edit" style="display: none">-->
<!--                    <form th:object="${rooms}" th:data-id="${room.id}" id="editForm">-->
<!--                        <input type="text" id="roomName" th:value="${room.name}">-->
<!--                        <button th:id="${room.id}" onclick="saveEdit(this.id)" class="btn btn-primary">Save</button>-->
<!--                        <button th:id="${room.id}"  class="btn btn-danger">Cancel</button>-->
<!--                    </form>-->
<!--                    </div>-->
<!--                </td>-->
            </tr>
            </tbody>
        </table>
    </div>
<!--    Adding the result of the operation in the div-->
    <p th:if="${result}">Successfully updated room.</p>
    <p th:if="${result != null && !result}">Failed to update room.</p>
    <br>
    <br>
    <br>
    <footer th:replace="Fragments/footer :: footer">Default</footer>
</main>
</body>

<script type="text/javascript" src="/js/admin/Rooms.js"></script>
</html>
